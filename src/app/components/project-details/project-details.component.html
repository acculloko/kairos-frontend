<h1>{{ project?.name }}</h1>
<p>{{ project?.description }}</p>

<button mat-button color="primary" (click)="editProject(project?.id)">
  Edit Project
</button>
<button mat-button color="primary" (click)="deleteProject(project?.id)">
  Delete Project
</button>

<h2>Tasks</h2>

<table mat-table [dataSource]="taskList" class="mat-elevation-z8">
  <!-- Columns Definition -->
  <!-- ID -->
  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef>ID</th>
    <td mat-cell *matCellDef="let entry">{{ entry.id }}</td>
  </ng-container>

  <!-- Name -->
  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef>Name</th>
    <td mat-cell *matCellDef="let entry">{{ entry.name }}</td>
  </ng-container>

  <!-- Responsible User -->
  <ng-container matColumnDef="responsible_user">
    <th mat-header-cell *matHeaderCellDef>Responsible User</th>
    <td mat-cell *matCellDef="let entry">{{ entry.responsible_user.name }}</td>
  </ng-container>

  <!-- Start Date -->
  <ng-container matColumnDef="start_date">
    <th mat-header-cell *matHeaderCellDef>Start date</th>
    <td mat-cell *matCellDef="let entry">
      {{ entry.start_date | date : "dd/MM/yyyy" }}
    </td>
  </ng-container>

  <!-- End Date -->
  <ng-container matColumnDef="end_date">
    <th mat-header-cell *matHeaderCellDef>End Date</th>
    <td mat-cell *matCellDef="let entry">
      {{ entry.end_date | date : "dd/MM/yyyy" }}
    </td>
  </ng-container>

  <!-- Status -->
  <ng-container matColumnDef="status">
    <th mat-header-cell *matHeaderCellDef>Status</th>
    <td mat-cell *matCellDef="let entry">{{ entry.status }}</td>
  </ng-container>

  <!-- Creation Date -->
  <ng-container matColumnDef="creation_date">
    <th mat-header-cell *matHeaderCellDef>Creation date</th>
    <td mat-cell *matCellDef="let entry">
      {{ entry.creation_date | date : "dd/MM/yyyy HH:mm:ss" }}
    </td>
  </ng-container>

  <!-- Action Column -->
  <ng-container matColumnDef="actions">
    <th mat-header-cell *matHeaderCellDef></th>
    <td mat-cell *matCellDef="let entry">
      <button mat-button color="primary" (click)="editTask(entry.id)">
        Edit
      </button>
      <button mat-button color="warn" (click)="deleteTask(entry.id)">
        Delete
      </button>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
</table>
